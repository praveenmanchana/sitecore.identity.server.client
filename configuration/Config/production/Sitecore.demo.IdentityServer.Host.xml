<?xml version="1.0" encoding="utf-8"?>
<Settings>
  <Sitecore>
    <IdentityServer>
      <AccountOptions>
        <AllowLocalLogin>true</AllowLocalLogin>
        <AllowRememberLogin>true</AllowRememberLogin>
        <RememberMeLoginDuration>30.00:00:00</RememberMeLoginDuration>
        <ShowLogoutPrompt>false</ShowLogoutPrompt>
        <AutomaticRedirectAfterSignOut>true</AutomaticRedirectAfterSignOut>
        <DefaultAccountPrefix>demo\</DefaultAccountPrefix>
        <AllowPasswordRecovery>true</AllowPasswordRecovery>
        <PasswordRecoveryUrl>https://sc93.cd.dev.local/forgotten-password</PasswordRecoveryUrl>
      </AccountOptions>
      <Clients>
        <!-- Custom .NET app using Openid connect
        <TestAppClient>
          <ClientId>TestAppClient</ClientId>
          <ClientName>Test App Client</ClientName>
          <AccessTokenType>0</AccessTokenType>
          <AllowOfflineAccess>true</AllowOfflineAccess>
          <AlwaysIncludeUserClaimsInIdToken>false</AlwaysIncludeUserClaimsInIdToken>
          <AccessTokenLifetimeInSeconds>3600</AccessTokenLifetimeInSeconds>
          <IdentityTokenLifetimeInSeconds>3600</IdentityTokenLifetimeInSeconds>
          <AllowAccessTokensViaBrowser>true</AllowAccessTokensViaBrowser>
          <RequireConsent>false</RequireConsent>
          <RequireClientSecret>false</RequireClientSecret>
          <AllowedGrantTypes>
            <AllowedGrantType1>hybrid</AllowedGrantType1>
          </AllowedGrantTypes>
          <RedirectUris>
            <RedirectUri1>{AllowedCorsOrigin}/signin-oidc</RedirectUri1>
          </RedirectUris>
          <PostLogoutRedirectUris>
            <PostLogoutRedirectUri1>{AllowedCorsOrigin}/signout-callback-oidc</PostLogoutRedirectUri1>
          </PostLogoutRedirectUris>
          <AllowedCorsOrigins>
            <AllowedCorsOriginsGroup1>https://testidentityclient.local|http://testidentityclient.local</AllowedCorsOriginsGroup1>
          </AllowedCorsOrigins>
          <AllowedScopes>
            <AllowedScope1>openid</AllowedScope1>
            <AllowedScope1>sitecore.profile</AllowedScope1>
          </AllowedScopes>
          <UpdateAccessTokenClaimsOnRefresh>true</UpdateAccessTokenClaimsOnRefresh>
        </TestAppClient>
        -->
        <WebsiteClient>
          <ClientId>WebsiteClient</ClientId>
          <ClientName>Website Client</ClientName>
          <AccessTokenType>0</AccessTokenType>
          <AllowOfflineAccess>true</AllowOfflineAccess>
          <AlwaysIncludeUserClaimsInIdToken>false</AlwaysIncludeUserClaimsInIdToken>
          <AccessTokenLifetimeInSeconds>3600</AccessTokenLifetimeInSeconds>
          <IdentityTokenLifetimeInSeconds>3600</IdentityTokenLifetimeInSeconds>
          <AllowAccessTokensViaBrowser>true</AllowAccessTokensViaBrowser>
          <RequireConsent>false</RequireConsent>
          <RequireClientSecret>false</RequireClientSecret>
          <AllowedGrantTypes>
            <AllowedGrantType1>hybrid</AllowedGrantType1>
          </AllowedGrantTypes>
          <RedirectUris>
            <RedirectUri1>{AllowedCorsOrigin}/identity/signin</RedirectUri1>
            <RedirectUri2>{AllowedCorsOrigin}/signin-oidc</RedirectUri2>
          </RedirectUris>
          <PostLogoutRedirectUris>
            <PostLogoutRedirectUri1>{AllowedCorsOrigin}/identity/postexternallogout</PostLogoutRedirectUri1>
            <PostLogoutRedirectUri2>{AllowedCorsOrigin}/signout-callback-oidc</PostLogoutRedirectUri2>
          </PostLogoutRedirectUris>
          <AllowedCorsOrigins>
            <AllowedCorsOriginsGroup1>https://sc93.cd.dev.local|http://sc93.cd.dev.local</AllowedCorsOriginsGroup1>
          </AllowedCorsOrigins>
          <AllowedScopes>
            <AllowedScope1>openid</AllowedScope1>
            <AllowedScope1>sitecore.profile</AllowedScope1>
          </AllowedScopes>
          <UpdateAccessTokenClaimsOnRefresh>true</UpdateAccessTokenClaimsOnRefresh>
        </WebsiteClient>
      </Clients>
    </IdentityServer>
  </Sitecore>
</Settings>